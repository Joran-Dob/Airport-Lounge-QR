function randomString(a,b){b=b||"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";for(var c="",d=0;a>d;d++){var e=Math.floor(Math.random()*b.length);c+=b.substring(e,e+1)}return c}function Psns(a){return"to:"+a+"qay"}function ticktack(a){if(0==(7&a)){var b=Math.min(800,document.body.clientWidth)/12,c=a?back2:back1;c.setAttribute("width",12*b),c.setAttribute("height",36*b),c=c.firstElementChild,c.replaceChild(toPath(toMatrix(datamatrix,Date().substr(0,24),!0)),c.firstElementChild),c.setAttribute("transform","scale("+b+") translate(0,36) rotate(-90)")}back1.setAttribute("opacity",(7-Math.abs(a-8))/4),back2.setAttribute("opacity",(Math.abs(a-8)-1)/4),setTimeout(ticktack,7&a?32:1e3-(new Date).getMilliseconds(),15&a+1)}function getText(){return unescape(encodeURIComponent(form.text.value))}function draw(){var a=getText(),b=toMatrix(datamatrix,a,!0);if(svg2.childElementCount>0&&svg2.removeChild(svg2.lastElementChild),0==b.length)s=2,tdm.innerHTML="Message too long for Data Matrix.";else{tdm.innerHTML="Data Matrix "+b[1].length+"x"+b.length+" cells "+(form.bg.checked?"(GIF)":"(SVG path)"),s=Math.floor((400+b[1].length)/(b[1].length+1)),svg.parentNode.setAttribute("height",s*b.length+5),svg.parentNode.setAttribute("width",form.bg.checked?0:s*b[1].length+5),svg.parentNode.setAttribute("title","Content: "+a),dmg1.src=toGif(b,s,3),dmg1.style.width=form.bg.checked?"auto":0,dmg1.style.visibility=form.bg.checked?"visible":"hidden",dmg1.title="Content: "+a;var c=toPath(form.bg.checked?[[0]]:b);c.setAttribute("transform","scale("+s+")"),svg.replaceChild(c,svg.firstElementChild),b[1].length+2>2*b.length?(c=document.createElementNS("http://www.w3.org/2000/svg","g"),b=datamatrix(function(a,b){var d=document.createElementNS("http://www.w3.org/2000/svg","rect");d.x.baseVal.value=a,d.y.baseVal.value=b,d.rx.baseVal.value=d.ry.baseVal.value=.1,d.width.baseVal.value=d.height.baseVal.value=.9,c.appendChild(d)},a),dmg2.src=toGif(toMatrix(datamatrix,a),s,3),dmg2.style.width=form.bg.checked?"auto":0,dmg2.title="Content: "+a,c.setAttribute("transform","scale("+s+")"),svg2.parentNode.setAttribute("width",form.bg.checked?0:b[0]*s+5),svg2.parentNode.setAttribute("height",b[1]*s+5),svg2.parentNode.setAttribute("title","Content: "+a),tdm2.innerHTML="Data Matrix "+b[0]+"x"+b[1]+" cells "+(form.bg.checked?"(GIF)":"(SVG squares)"),svg2.appendChild(c)):(tdm2.innerHTML="",dmg2.style.width=0)}draw_aztec()}function draw_aztec(){var a=document.createElement("canvas"),b=a.getContext("2d");a.width=a.height=700,b.fillStyle="white",form.bg.checked&&b.fillRect(0,0,700,700);var c=aztec(function(a,c){b.rect(a*s,c*s,s,s)},getText(),isNaN(fazt.sec.value)?23:fazt.sec.value);if(0==c)return void alert("Message too long for Aztec!");tazt.innerHTML=" "+(12>c?"rune ":28>c?"compact ":"")+c+"x"+c+" cells (PNG)",b.fillStyle="#000",b.fill();var d=document.createElement("canvas");d.width=d.height=c*s,d.getContext("2d").drawImage(a,0,0),png.src=d.toDataURL(),png.title="Content: "+getText()}$(document).ready(function(){$("#png").click(function(){var a=$("#png").attr("src");window.open(a,"_blank")}),protocol=window.location.protocol,"http:"==protocol&&(window.location.href="https://gen-bar.jorandob.xyz/"),$(".value_input").bind("change keyup",function(){var a=document.getElementById("first_name").value.toUpperCase(),b=document.getElementById("last_name").value.toUpperCase(),c=randomString(6),d=document.getElementById("airport_from").value.toUpperCase(),e=document.getElementById("airport_to").value.toUpperCase(),f=document.getElementById("airline").value.toUpperCase(),g=document.getElementById("flight_number").value.toUpperCase(),h=document.getElementById("seat_number").value.toUpperCase(),i=document.getElementById("check_in_number").value.toUpperCase(),j=$("#class").val(),k=new Date,l=new Date(k.getFullYear(),0,0),m=k-l,n=864e5,o=Math.floor(m/n),p="M1"+b+"/"+a+"ME"+c+" "+d+e+f+" "+g+" "+o+j+h+i+" 100",q="M1"+b+"/"+a+"   E"+c+" "+d+e+f+" "+g+" "+o+j+h+i+" 100",r="M1"+b+"/"+a+"           E       "+d+e+f+" "+g+" "+o+j+h+i+" 100";"universal"==$("#barcode_type").val()&&(document.getElementById("texta").value=p),"klm_large"==$("#barcode_type").val()&&(document.getElementById("texta").value=q),"klm_small"==$("#barcode_type").val()&&(document.getElementById("texta").value=r),draw()})}),window.onload=function(){with(document.getElementById("[at]").firstChild.parentNode)setAttribute("href",getAttribute("href").replace("qay","@"));draw(),ticktack(0)};var s=1;